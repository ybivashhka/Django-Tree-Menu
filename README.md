# üå≥ Django Tree Menu

–î—Ä–µ–≤–æ–≤–∏–¥–Ω–æ–µ –º–µ–Ω—é –¥–ª—è Django —Å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ–º –∞–∫—Ç–∏–≤–Ω—ã—Ö –ø—É–Ω–∫—Ç–æ–≤.



## ‚ú® –û—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ**: –ê–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç –∏ –≤—Å–µ –ø—É–Ω–∫—Ç—ã –≤—ã—à–µ –Ω–µ–≥–æ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- **–ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –ø–æ—Ç–æ–º–∫–æ–≤**: –ü–µ—Ä–≤—ã–π —É—Ä–æ–≤–µ–Ω—å –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–¥ –∞–∫—Ç–∏–≤–Ω—ã–º –ø—É–Ω–∫—Ç–æ–º —Ç–∞–∫–∂–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç—Å—è
- **–ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç—å**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ª—é–±–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —É—Ä–æ–≤–Ω–µ–π –≤–ª–æ–∂–µ–Ω–Ω–æ—Å—Ç–∏
- **–û–¥–∏–Ω –∑–∞–ø—Ä–æ—Å –∫ –ë–î**: –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –¥–ª—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- **Django Admin**: –£–¥–æ–±–Ω–æ–µ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—É—é –∞–¥–º–∏–Ω–∫—É Django
- **Template Tag**: –ü—Ä–æ—Å—Ç–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —á–µ—Ä–µ–∑ `{% draw_menu 'menu_name' %}`
- **–ò–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ URL**: –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞–∫ —è–≤–Ω—ã—Ö URL, —Ç–∞–∫ –∏ –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã—Ö URL

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ —É—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π
git clone <repository-url>
cd django-tree-menu

# –°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
python -m venv venv

# –ê–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ
# Windows:
venv\Scripts\activate
# Linux/Mac:
source venv/bin/activate

# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
pip install -r requirements.txt
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

```bash
# –°–æ–∑–¥–∞–π—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –≤—Å–µ—Ö –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
python manage.py makemigrations

# –ï—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ —Å–æ–∑–¥–∞–ª–∏—Å—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏, —Å–æ–∑–¥–∞–π—Ç–µ –∏—Ö –≤—Ä—É—á–Ω—É—é
python manage.py makemigrations tree_menu
python manage.py makemigrations demo

# –ü—Ä–∏–º–µ–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏
python manage.py migrate

# –°–æ–∑–¥–∞–π—Ç–µ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)
python manage.py createsuperuser

# –°–æ–∑–¥–∞–π—Ç–µ –¥–µ–º–æ-–¥–∞–Ω–Ω—ã–µ
python manage.py create_demo_menu
```

### 3. –ó–∞–ø—É—Å–∫

```bash
python manage.py runserver
```

–û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü.

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
django-tree-menu/
‚îú‚îÄ‚îÄ config/                 # –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–æ–µ–∫—Ç–∞
‚îÇ   ‚îú‚îÄ‚îÄ settings.py        # –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Django
‚îÇ   ‚îú‚îÄ‚îÄ urls.py            # –ì–ª–∞–≤–Ω—ã–µ URL-–º–∞—Ä—à—Ä—É—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ wsgi.py            # WSGI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ asgi.py            # ASGI –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ apps/                   # –ü—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ tree_menu/         # –û—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –º–µ–Ω—é
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py      # –ú–æ–¥–µ–ª–∏ Menu –∏ MenuItem
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ admin.py       # –ê–¥–º–∏–Ω–∫–∞ Django
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ services.py    # –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ templatetags/  # Template tags
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ templates/     # –®–∞–±–ª–æ–Ω—ã –º–µ–Ω—é
‚îÇ   ‚îî‚îÄ‚îÄ demo/              # –î–µ–º–æ-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
‚îÇ       ‚îú‚îÄ‚îÄ views.py       # Views –¥–ª—è –¥–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü
‚îÇ       ‚îú‚îÄ‚îÄ urls.py        # URL-–º–∞—Ä—à—Ä—É—Ç—ã –¥–µ–º–æ
‚îÇ       ‚îî‚îÄ‚îÄ templates/     # –®–∞–±–ª–æ–Ω—ã —Å—Ç—Ä–∞–Ω–∏—Ü
‚îú‚îÄ‚îÄ manage.py              # Django management
‚îú‚îÄ‚îÄ requirements.txt       # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îî‚îÄ‚îÄ README.md             # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üõ†Ô∏è –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é —á–µ—Ä–µ–∑ –∞–¥–º–∏–Ω–∫—É

1. –û—Ç–∫—Ä–æ–π—Ç–µ http://127.0.0.1:8000/admin/
2. –í–æ–π–¥–∏—Ç–µ —Å —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —É—á–µ—Ç–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏
3. –°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤–æ–µ –º–µ–Ω—é –≤ —Ä–∞–∑–¥–µ–ª–µ "–ú–µ–Ω—é"
4. –î–æ–±–∞–≤—å—Ç–µ –ø—É–Ω–∫—Ç—ã –º–µ–Ω—é —Å –Ω—É–∂–Ω–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–µ–π

### 2. –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤ —à–∞–±–ª–æ–Ω–µ

```html
{% load menu_tags %}

<!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≥–ª–∞–≤–Ω–æ–≥–æ –º–µ–Ω—é -->
{% draw_menu 'main_menu' %}

<!-- –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ –º–µ–Ω—é -->
{% draw_menu 'secondary_menu' %}
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –º–æ–¥–µ–ª–µ–π

```python
from apps.tree_menu.models import Menu, MenuItem

# –°–æ–∑–¥–∞–Ω–∏–µ –º–µ–Ω—é
menu = Menu.objects.create(
    name='my_menu',
    description='–ú–æ–µ –º–µ–Ω—é'
)

# –°–æ–∑–¥–∞–Ω–∏–µ –ø—É–Ω–∫—Ç–∞ –º–µ–Ω—é
item = MenuItem.objects.create(
    menu=menu,
    title='–ì–ª–∞–≤–Ω–∞—è',
    url='/',
    order=1
)

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–ø—É–Ω–∫—Ç–∞
subitem = MenuItem.objects.create(
    menu=menu,
    parent=item,
    title='–ü–æ–¥—Ä–∞–∑–¥–µ–ª',
    url='/subsection/',
    order=1
)
```

## üéØ –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è

- **Django**: 5.0+
- **Python**: 3.8+
- **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: SQLite (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é), –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –≤—Å–µ –ë–î Django
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: LocMemCache (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é)

## üîß –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥–µ–ª–∏

- **Menu**: –û—Å–Ω–æ–≤–Ω–∞—è –º–æ–¥–µ–ª—å –º–µ–Ω—é
- **MenuItem**: –ü—É–Ω–∫—Ç –º–µ–Ω—é —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –∏–µ—Ä–∞—Ä—Ö–∏–∏

### –°–µ—Ä–≤–∏—Å—ã

- **MenuService**: –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –º–µ–Ω—é —Å –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **MenuRenderer**: –†–µ–Ω–¥–µ—Ä–∏–Ω–≥ HTML –º–µ–Ω—é

### Template Tags

- **draw_menu**: –û—Å–Ω–æ–≤–Ω–æ–π template tag –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–Ω—é

## üìä –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **1 –∑–∞–ø—Ä–æ—Å –∫ –ë–î** –Ω–∞ –æ—Ç—Ä–∏—Å–æ–≤–∫—É –∫–∞–∂–¥–æ–≥–æ –º–µ–Ω—é
- **–ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –Ω–∞ 5 –º–∏–Ω—É—Ç
- **prefetch_related** –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–Ω–∏–µ** –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤

## üé® –ö–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è

### CSS —Å—Ç–∏–ª–∏

–ú–µ–Ω—é –∏—Å–ø–æ–ª—å–∑—É–µ—Ç CSS –∫–ª–∞—Å—Å—ã –¥–ª—è —Å—Ç–∏–ª–∏–∑–∞—Ü–∏–∏:
- `.tree-menu` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
- `.menu-item` - –ø—É–Ω–∫—Ç –º–µ–Ω—é
- `.menu-item.active` - –∞–∫—Ç–∏–≤–Ω—ã–π –ø—É–Ω–∫—Ç
- `.menu-item.expanded` - —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç—ã–π –ø—É–Ω–∫—Ç
- `.submenu` - –ø–æ–¥–º–µ–Ω—é

### JavaScript

–í—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π JavaScript –¥–ª—è –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏:
- –ö–ª–∏–∫ –ø–æ —Å—Ç—Ä–µ–ª–∫–µ —Ä–∞–∑–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç/—Å–≤–æ—Ä–∞—á–∏–≤–∞–µ—Ç –ø–æ–¥–º–µ–Ω—é
- –ü–ª–∞–≤–Ω—ã–µ –∞–Ω–∏–º–∞—Ü–∏–∏

## üìã –î–µ–º–æ-—Å—Ç—Ä–∞–Ω–∏—Ü—ã

- **–ì–ª–∞–≤–Ω–∞—è**: http://127.0.0.1:8000/
- **–û –Ω–∞—Å**: http://127.0.0.1:8000/about/
- **–£—Å–ª—É–≥–∏**: http://127.0.0.1:8000/services/
- **–ü—Ä–æ–¥—É–∫—Ç—ã**: http://127.0.0.1:8000/products/
- **–ö–æ–Ω—Ç–∞–∫—Ç—ã**: http://127.0.0.1:8000/contact/
- **–ë–ª–æ–≥**: http://127.0.0.1:8000/blog/
- **–ù–æ–≤–æ—Å—Ç–∏**: http://127.0.0.1:8000/news/
- **FAQ**: http://127.0.0.1:8000/faq/

## üîê –î–æ—Å—Ç—É–ø –∫ –∞–¥–º–∏–Ω–∫–µ

- **URL**: http://127.0.0.1:8000/admin/
- **–õ–æ–≥–∏–Ω**: admin
- **–ü–∞—Ä–æ–ª—å**: admin (–∏–ª–∏ —Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤—ã —É–∫–∞–∑–∞–ª–∏ –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏)

## ‚ö†Ô∏è –í–æ–∑–º–æ–∂–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –û—à–∏–±–∫–∞ "No module named 'apps'"
–£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤—ã –Ω–∞—Ö–æ–¥–∏—Ç–µ—Å—å –≤ –∫–æ—Ä–Ω–µ–≤–æ–π –ø–∞–ø–∫–µ –ø—Ä–æ–µ–∫—Ç–∞ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ –∫–æ–º–∞–Ω–¥.

### –û—à–∏–±–∫–∞ "no such table: tree_menu_menu"
–≠—Ç–∞ –æ—à–∏–±–∫–∞ –≤–æ–∑–Ω–∏–∫–∞–µ—Ç, –µ—Å–ª–∏ –º–∏–≥—Ä–∞—Ü–∏–∏ –Ω–µ –±—ã–ª–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã. –í—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
python manage.py makemigrations tree_menu
python manage.py migrate
```

### –û—à–∏–±–∫–∞ –º–∏–≥—Ä–∞—Ü–∏–π
–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–∞—é—Ç –ø—Ä–æ–±–ª–µ–º—ã —Å –º–∏–≥—Ä–∞—Ü–∏—è–º–∏, —É–¥–∞–ª–∏—Ç–µ –ø–∞–ø–∫—É `migrations/` –∏ —Å–æ–∑–¥–∞–π—Ç–µ –∑–∞–Ω–æ–≤–æ:
```bash
python manage.py makemigrations
python manage.py migrate
```

### –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
–ù–∞ Linux/Mac –º–æ–∂–µ—Ç –ø–æ—Ç—Ä–µ–±–æ–≤–∞—Ç—å—Å—è:
```bash
chmod +x manage.py
```
### –í–∏–∑—É–∞–ª
<img width="1280" height="600" alt="image" src="https://github.com/user-attachments/assets/5e98a55d-7b94-417c-aec1-94833cd2c57e" />

<img width="1383" height="506" alt="image" src="https://github.com/user-attachments/assets/8934bcbc-13b6-4df8-ae46-be37bb40d561" />


